<div class="flex flex-col w-full h-full gap-8">
  <div class="flex flex-row gap-2 text-gray-800 dark:text-gray-200">
    <span
      class="underline hover:text-gray-500 dark:hover:text-gray-300 cursor-pointer"
      (click)="goToAccount()"
      >Account</span
    >
    <span>></span>
    <span>Account 1</span>
  </div>
  <div class="flex flex-row justify-between">
    <span
      class="tracking-wider font-yeseva text-lg lg-m:text-2xl lg:text-4xl font-medium"
      >Account 1</span
    >
    <span
      class="cursor-pointer text-xs lg-m:text-base h-5 w-10 lg-m:h-10 lg-m:w-16 flex bg-white hover:bg-gray-200 dark:bg-gray-950 dark:hover:bg-gray-800 justify-center items-center rounded-full border border-black dark:border-white"
      >MYR</span
    >
  </div>
  <div class="grid grid-cols-11">
    <div
      class="col-span-4 lg:col-span-1 justify-items-start lg-m:justify-items-center content-center"
    >
      <div
        class="w-10 h-10 lg-m:w-12 lg-m:h-12 lg:w-20 lg:h-20 bg-gradient-to-r from-indigo-500 to-indigo-300 hover:from-indigo-700 hover:to-indigo-300 rounded-full flex justify-center items-center text-center text-white cursor-pointer"
        (click)="toggleAddMoneyDialog()"
      >
        <fa-icon [icon]="getIcon('faPlus')"></fa-icon>
      </div>
    </div>
    <div class="col-span-3 hidden lg:block">
      <div class="grid grid-cols-3 justify-end items-center h-full">
        <div class="col-span-1 justify-items-center">
          <span
            class="w-4 h-4 lg:w-6 lg:h-6 bg-indigo-400 flex rounded-full"
          ></span>
        </div>
        <div class="col-span-1 justify-items-center">
          <span
            class="w-2 h-2 lg:w-4 lg:h-4 bg-indigo-300 flex rounded-full"
          ></span>
        </div>
        <div class="col-span-1 justify-items-center">
          <span
            class="w-1 h-1 lg:w-3 lg:h-3 bg-indigo-200 flex rounded-full"
          ></span>
        </div>
      </div>
    </div>
    <div class="col-span-3 justify-items-center">
      <div
        class="h-32 w-32 lg-m:h-40 lg-m:w-40 lg:h-64 lg:w-64 flex flex-col rounded-full justify-center items-center content-center border-4 border-indigo-300"
      >
        <span class="text-xs lg:text-sm">Current Balance</span>
        <span class="text-lg lg-m:text-2xl lg:text-4xl font-bold"
          >17,659.30</span
        >
      </div>
    </div>
    <div class="col-span-3 hidden lg:block">
      <div class="grid grid-cols-3 justify-end items-center h-full">
        <div class="col-span-1 justify-items-center">
          <span class="w-3 h-3 bg-pink-200 flex rounded-full"></span>
        </div>
        <div class="col-span-1 justify-items-center">
          <span class="w-4 h-4 bg-pink-300 flex rounded-full"></span>
        </div>
        <div class="col-span-1 justify-items-center">
          <span class="w-6 h-6 bg-pink-400 flex rounded-full"></span>
        </div>
      </div>
    </div>
    <div
      class="col-span-4 lg:col-span-1 justify-items-end lg-m:justify-items-center content-center"
    >
      <div
        class="w-10 h-10 lg-m:w-12 lg-m:h-12 lg:w-20 lg:h-20 bg-gradient-to-r from-pink-500 to-pink-300 hover:from-pink-700 hover:to-pink-300 cursor-pointer rounded-full flex justify-center items-center text-center text-white"
        (click)="toggleMinusMoneyDialog()"
      >
        <fa-icon [icon]="getIcon('faMinus')"></fa-icon>
      </div>
    </div>
  </div>
  <div class="grid grid-cols-2 gap-2">
    <div
      class="col-span-2 flex flex-col w-full border border-gray-200 dark:border-slate-700 rounded-md p-4 gap-2 bg-white dark:bg-slate-900"
    >
      <span class="text-center text-sm md:text-xs lg:text-sm font-semibold">
        Account Goal
      </span>
      <div class="flex flex-row w-full items-center justify-evenly">
        <app-donut [percentage]="78" color="text-violet-400"></app-donut>
        <div class="w-2/3 h-64">
          <canvas
            baseChart
            [data]="lineChartData"
            [options]="lineChartOptions"
            [type]="lineChartType"
          ></canvas>
        </div>
        <div class="flex flex-col gap-3">
          <div class="flex flex-col h-full">
            <span class="text-xs text-center md:text-start">Current Value</span>
            <span
              class="text-base sm:text-xl md:text-base lg:text-2xl font-semibold text-center md:text-start"
              >{{ 17934 | number : "1.2-2" }}</span
            >
          </div>
          <div class="flex flex-col h-full">
            <span class="text-xs text-center md:text-start">Target Value</span>
            <span
              class="text-base sm:text-xl md:text-base lg:text-2xl font-semibold text-center md:text-start"
              >{{ 20000 | number : "1.2-2" }}</span
            >
          </div>
          <button
            class="rounded-3xl bg-indigo-500 text-white px-4 py-2 transition duration-500 ease-in-out hover:bg-indigo-700"
          >
            Change Target
          </button>
        </div>
      </div>
    </div>
    <div class="col-span-1 grid grid-rows-2 gap-2">
      <div
        class="row-span-1 flex flex-col justify-between items-center w-full border border-gray-200 dark:border-slate-700 rounded-md p-4 gap-2 bg-white dark:bg-slate-900"
      >
        <div class="flex flex-row justify-start w-full">
          <span class="text-start text-sm md:text-xs lg:text-sm font-semibold">
            Incomes and Expenses Comparison
          </span>
        </div>
        <div class="w-full h-full">
          <canvas
            baseChart
            [data]="barChartData"
            [options]="barChartOptions"
            [type]="barChartType"
          >
          </canvas>
        </div>
      </div>
      <div
        class="row-span-1 flex flex-col w-full border border-gray-200 dark:border-slate-700 rounded-md px-4 pt-4 pb-8 flex flex-col gap-2 bg-white dark:bg-slate-900"
      >
        <span class="text-start text-sm md:text-xs lg:text-sm font-semibold">
          Net Income
        </span>
        <div class="w-full h-full">
          <canvas
            baseChart
            [data]="lineChartData2"
            [options]="lineChartOptions2"
            [type]="lineChartType2"
          >
          </canvas>
        </div>
      </div>
    </div>
    <div
      class="col-span-1 flex flex-col w-full border border-gray-200 dark:border-slate-700 rounded-md p-4 flex flex-col gap-8 bg-white dark:bg-slate-900"
    >
      <div class="flex flex-row justify-between items-center">
        <span class="text-start text-sm md:text-xs lg:text-sm font-semibold">
          Budget Breakdown
        </span>
        <div class="flex flex-col relative">
          <span
            class="flex flex-row gap-1 cursor-pointer text-xs lg-m:text-sm h-6 w-auto px-2 flex bg-white hover:bg-gray-200 dark:bg-gray-950 dark:hover:bg-gray-800 justify-center items-center rounded-full border border-black dark:border-white"
            (click)="toggleMonthDropdown()"
          >
            <span>{{ selectedMonth }}</span>
            <fa-icon [icon]="getIcon('faChevronDown')"></fa-icon>
          </span>
          <div
            *ngIf="monthDropdown"
            class="absolute z-10 mt-6 w-40 bg-white dark:bg-gray-900 border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"
          >
            <ul>
              <li
                *ngFor="let month of months"
                (click)="selectMonth(month)"
                class="cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"
              >
                {{ month }}
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="flex flex-col w-full">
        <span class="text-center text-sm md:text-xs lg:text-sm">
          Expenses
        </span>
        <div class="flex flex-row w-full">
          <div class="h-64">
            <canvas
              baseChart
              [data]="doughnutChartData"
              [type]="doughnutChartType"
              [options]="doughnutChartOptions"
            >
            </canvas>
          </div>
          <div class="flex flex-col w-full justify-center gap-4 px-12">
            <div
              class="flex flex-row justify-between items-center content-center justify-items-center"
            >
              <app-tag name="Petrol"></app-tag>
              <span>{{ 350 | number : "1.2-2" }}</span>
            </div>
            <div
              class="flex flex-row justify-between items-center content-center justify-items-center"
            >
              <app-tag name="Shopping"></app-tag>
              <span>{{ 435 | number : "1.2-2" }}</span>
            </div>
            <div
              class="flex flex-row justify-between items-center content-center justify-items-center"
            >
              <app-tag name="Food"></app-tag>
              <span>{{ 570 | number : "1.2-2" }}</span>
            </div>
            <div class="h-px bg-gray-200 dark:bg-gray-600 w-full"></div>
            <div class="flex flex-row justify-between">
              <span>Total:</span>
              <span>{{ 1245 | number : "1.2-2" }}</span>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-col w-full">
        <span class="text-center text-sm md:text-xs lg:text-sm"> Incomes </span>
        <div class="flex flex-row w-full">
          <div class="h-auto">
            <canvas
              baseChart
              [data]="doughnutChartData2"
              [type]="doughnutChartType2"
              [options]="doughnutChartOptions2"
            >
            </canvas>
          </div>
          <div class="flex flex-col w-full justify-center gap-4 px-12">
            <div
              class="flex flex-row justify-between items-center content-center justify-items-center"
            >
              <app-tag name="Salary"></app-tag>
              <span>{{ 3200 | number : "1.2-2" }}</span>
            </div>
            <div
              class="flex flex-row justify-between items-center content-center justify-items-center"
            >
              <app-tag name="Investments"></app-tag>
              <span>{{ 450 | number : "1.2-2" }}</span>
            </div>
            <div
              class="flex flex-row justify-between items-center content-center justify-items-center"
            >
              <app-tag name="Savings"></app-tag>
              <span>{{ 1000 | number : "1.2-2" }}</span>
            </div>
            <div class="h-px bg-gray-200 dark:bg-gray-600 w-full"></div>
            <div class="flex flex-row justify-between">
              <span>Total:</span>
              <span>{{ 1245 | number : "1.2-2" }}</span>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-row justify-center w-full">
        <button
          class="w-1/3 rounded-3xl bg-indigo-500 text-white px-4 py-2 transition duration-500 ease-in-out hover:bg-indigo-700"
        >
          View Budget
        </button>
      </div>
    </div>
  </div>
  <div class="flex flex-row justify-between items-center">
    <span class="mt-8 text-sm lg-m:text-base font-semibold"
      >Incomes and Expenses</span
    >
    <div class="flex flex-col relative">
      <span
        class="flex flex-row gap-1 cursor-pointer text-xs lg-m:text-base h-8 w-auto px-2 flex bg-white hover:bg-gray-200 dark:bg-gray-950 dark:hover:bg-gray-800 justify-center items-center rounded-full border border-black dark:border-white"
        (click)="toggleMonthDropdown()"
      >
        <span>{{ selectedMonth }}</span>
        <fa-icon [icon]="getIcon('faChevronDown')"></fa-icon>
      </span>
      <div
        *ngIf="monthDropdown"
        class="absolute z-10 mt-6 w-40 bg-white dark:bg-gray-900 border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"
      >
        <ul>
          <li
            *ngFor="let month of months"
            (click)="selectMonth(month)"
            class="cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"
          >
            {{ month }}
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="flex flex-col gap-4 px-40">
    <div class="flex flex-row gap-2">
      <div
        class="flex flex-col gap-2 justify-start h-full w-full border border-gray-200 dark:border-slate-700 rounded-md p-4 bg-white dark:bg-slate-900"
      >
        <div class="flex flex-row items-center gap-2">
          <span class="text-green-600">
            <fa-icon [icon]="getIcon('faSignIn')"></fa-icon>
          </span>
          <span>Money In</span>
        </div>
        <span class="text-3xl font-bold">
          {{ 3460 | number : "1.2-2" }}
        </span>
      </div>
      <div
        class="flex flex-col gap-2 justify-start h-full w-full border border-gray-200 dark:border-slate-700 rounded-md p-4 bg-white dark:bg-slate-900"
      >
        <div class="flex flex-row items-center gap-2">
          <span class="text-red-600">
            <fa-icon [icon]="getIcon('faSignOut')"></fa-icon>
          </span>
          <span>Money Out</span>
        </div>
        <span class="text-3xl font-bold">
          {{ 910.45 | number : "1.2-2" }}
        </span>
      </div>
    </div>
    <app-paginator [itemsPerPage]="7" name="transaction"></app-paginator>
  </div>
</div>

<p-dialog
  header="header"
  [(visible)]="addMoneyDialog"
  [modal]="true"
  [dismissableMask]="true"
>
  <ng-template pTemplate="headless">
    <div
      class="w-72 h-96 lg-m:w-96 lg-m:h-96 bg-white dark:bg-slate-900 rounded-2xl p-4 lg-m:p-8"
    >
      <div class="flex flex-col gap-4 w-full h-full justify-between">
        <span class="text-sm font-bold">Add Money</span>
        <div class="flex flex-col gap-2 w-full">
          <span class="text-sm">Amount</span>
          <input
            type="number"
            placeholder="Enter your amount"
            class="outline-none border-b-2 border-slate-300 dark:border-slate-700 focus:border-slate-500 dark:focus:border-slate-500 bg-transparent"
          />
        </div>
        <div class="flex flex-col gap-2 w-full">
          <span class="text-sm">Description</span>
          <input
            type="text"
            placeholder="Enter your description"
            class="outline-none border-b-2 border-slate-300 dark:border-slate-700 focus:border-slate-500 dark:focus:border-slate-500 bg-transparent"
          />
        </div>
        <div class="flex flex-col gap-2 w-full">
          <span class="text-sm">Tag</span>
          <div class="relative w-full">
            <button
              class="w-full flex flex-row justify-between block px-4 py-2 border border-gray-300 rounded-lg text-left bg-transparent hover:bg-gray-100 dark:hover:bg-slate-800"
              (click)="toggleDropdown()"
            >
              <ng-container *ngIf="selectedTag; else noTag">
                <app-tag [name]="selectedTag"></app-tag>
              </ng-container>
              <ng-template #noTag> Select an option </ng-template>
              <fa-icon [icon]="getIcon('faChevronDown')"></fa-icon>
            </button>
            <div
              *ngIf="dropdown"
              class="absolute z-10 mt-2 w-full bg-white dark:bg-gray-900 border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"
            >
              <ul>
                <li
                  *ngFor="let tag of incomeTags"
                  (click)="selectTag(tag)"
                  class="cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"
                >
                  <app-tag [name]="tag"></app-tag>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <button
          class="rounded-3xl bg-indigo-500 text-white px-4 py-2 transition duration-500 ease-in-out hover:bg-indigo-700"
        >
          Submit
        </button>
      </div>
    </div>
  </ng-template>
</p-dialog>

<p-dialog
  header="header"
  [(visible)]="minusMoneyDialog"
  [modal]="true"
  [dismissableMask]="true"
>
  <ng-template pTemplate="headless">
    <div
      class="w-72 h-96 lg-m:w-96 lg-m:h-96 bg-white dark:bg-slate-900 rounded-2xl p-4 lg-m:p-8"
    >
      <div class="flex flex-col gap-4 w-full h-full justify-between">
        <span class="text-sm font-bold">Minus Money</span>
        <div class="flex flex-col gap-2 w-full">
          <span class="text-sm">Amount</span>
          <input
            type="number"
            placeholder="Enter your amount"
            class="outline-none border-b-2 border-slate-300 dark:border-slate-700 focus:border-slate-500 dark:focus:border-slate-500 bg-transparent"
          />
        </div>
        <div class="flex flex-col gap-2 w-full">
          <span class="text-sm">Description</span>
          <input
            type="text"
            placeholder="Enter your description"
            class="outline-none border-b-2 border-slate-300 dark:border-slate-700 focus:border-slate-500 dark:focus:border-slate-500 bg-transparent"
          />
        </div>
        <div class="flex flex-col gap-2 w-full">
          <span class="text-sm">Tag</span>
          <div class="relative w-full">
            <button
              class="w-full flex flex-row justify-between block px-4 py-2 border border-gray-300 rounded-lg text-left bg-transparent hover:bg-gray-100 dark:hover:bg-slate-800"
              (click)="toggleDropdown()"
            >
              <ng-container *ngIf="selectedTag; else noTag">
                <app-tag [name]="selectedTag"></app-tag>
              </ng-container>
              <ng-template #noTag> Select an option </ng-template>
              <fa-icon [icon]="getIcon('faChevronDown')"></fa-icon>
            </button>
            <div
              *ngIf="dropdown"
              class="absolute z-10 mt-2 w-full bg-white dark:bg-gray-900 border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto"
            >
              <ul>
                <li
                  *ngFor="let tag of expenseTags"
                  (click)="selectTag(tag)"
                  class="cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"
                >
                  <app-tag [name]="tag"></app-tag>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <button
          class="rounded-3xl bg-indigo-500 text-white px-4 py-2 transition duration-500 ease-in-out hover:bg-indigo-700"
        >
          Submit
        </button>
      </div>
    </div>
  </ng-template>
</p-dialog>
